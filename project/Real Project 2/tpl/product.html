<section>
  <div class="mx-auto max-w-screen-xl px-4 py-8 sm:px-6 sm:py-12 lg:px-8">
    <header class="text-center mt-24">
      <h2 class="text-xl font-bold text-gray-900 sm:text-3xl">Explore Our Exclusive Products</h2>
      <p class="mx-auto mt-4 max-w-md text-gray-500">
        Discover our unique collection of products, each crafted to provide you with the best quality and experience.
      </p>
    </header>

    <ul class="mt-8 grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
      <li>
        <a href="#" class="group block overflow-hidden" onclick="event.preventDefault(); openImageModal('imageModal1', 'https://images.unsplash.com/photo-1523381210434-271e8be1f52b?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1770&q=80')">
          <img
            src="https://images.unsplash.com/photo-1523381210434-271e8be1f52b?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1770&q=80"
            alt="Basic Tee"
            class="h-[350px] w-full object-cover transition duration-500 group-hover:scale-105 sm:h-[450px]"
          />
          <div class="relative bg-white pt-3 flex justify-between">
            <div>
              <h3 class="text-xs text-gray-700 group-hover:underline group-hover:underline-offset-4">
                Basic Tee
              </h3>
              <p class="mt-2">
                <span class="sr-only"> Regular Price </span>
                <span class="tracking-wider text-gray-900"> £24.00 GBP </span>
              </p>
            </div>
            <a href="#" class="text-blue-600" onclick="event.preventDefault(); openProductModal(1)">view more detail</a>
          </div>
        </a>
      </li>

      <li>
        <a href="#" class="group block overflow-hidden" onclick="event.preventDefault(); openImageModal('imageModal2', 'https://nobero.com/cdn/shop/files/navy-blue_fb51525d-3ada-416b-a855-db38d2a3dfde.jpg?v=1703567565')">
          <img
            src="https://nobero.com/cdn/shop/files/navy-blue_fb51525d-3ada-416b-a855-db38d2a3dfde.jpg?v=1703567565"
            alt="Classic Hoodie"
            class="h-[350px] w-full object-cover transition duration-500 group-hover:scale-105 sm:h-[450px]"
          />
          <div class="relative bg-white pt-3 flex justify-between">
            <div>
              <h3 class="text-xs text-gray-700 group-hover:underline group-hover:underline-offset-4">
                Classic Hoodie
              </h3>
              <p class="mt-2">
                <span class="sr-only"> Regular Price </span>
                <span class="tracking-wider text-gray-900"> £50.00 GBP </span>
              </p>
            </div>
            <a href="#" class="text-blue-600" onclick="event.preventDefault(); openProductModal(2)">view more detail</a>
          </div>
        </a>
      </li>

      <li>
        <a href="#" class="group block overflow-hidden" onclick="event.preventDefault(); openImageModal('imageModal3', 'https://asset1.cxnmarksandspencer.com/is/image/mands/SD_03_T16_6466M_E2_X_EC_90?$PDP_MAIN_CAR_SM$')">
          <img
            src="https://asset1.cxnmarksandspencer.com/is/image/mands/SD_03_T16_6466M_E2_X_EC_90?$PDP_MAIN_CAR_SM$"
            alt="Denim Jacket"
            class="h-[350px] w-full object-cover transition duration-500 group-hover:scale-105 sm:h-[450px]"
          />
          <div class="relative bg-white pt-3 flex justify-between">
            <div>
              <h3 class="text-xs text-gray-700 group-hover:underline group-hover:underline-offset-4">
                Denim Jacket
              </h3>
              <p class="mt-2">
                <span class="sr-only"> Regular Price </span>
                <span class="tracking-wider text-gray-900"> £70.00 GBP </span>
              </p>
            </div>
            <a href="#" class="text-blue-600" onclick="event.preventDefault(); openProductModal(3)">view more detail</a>
          </div>
        </a>
      </li>

      <li>
        <a href="#" class="group block overflow-hidden" onclick="event.preventDefault(); openImageModal('imageModal4', 'https://m.media-amazon.com/images/I/51OQNX6Z2yL._AC_UY1100_.jpg')">
          <img
            src="https://m.media-amazon.com/images/I/51OQNX6Z2yL._AC_UY1100_.jpg"
            alt="Sports Cap"
            class="h-[350px] w-full object-cover transition duration-500 group-hover:scale-105 sm:h-[450px]"
          />
          <div class="relative bg-white pt-3 flex justify-between">
            <div>
              <h3 class="text-xs text-gray-700 group-hover:underline group-hover:underline-offset-4">
                Sports Cap
              </h3>
              <p class="mt-2">
                <span class="sr-only"> Regular Price </span>
                <span class="tracking-wider text-gray-900"> £15.00 GBP </span>
              </p>
            </div>
            <a href="#" class="text-blue-600" onclick="event.preventDefault(); openProductModal(4)">view more detail</a>
          </div>
        </a>
      </li>
    </ul>
  </div>
</section>

<!-- Unique Image Modals -->
<div id="imageModal1" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('imageModal1')">&times;</span>
    <img class="modal-image" id="imgModalContent1">
  </div>
</div>

<div id="imageModal2" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('imageModal2')">&times;</span>
    <img class="modal-image" id="imgModalContent2">
  </div>
</div>

<div id="imageModal3" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('imageModal3')">&times;</span>
    <img class="modal-image" id="imgModalContent3">
  </div>
</div>

<div id="imageModal4" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('imageModal4')">&times;</span>
    <img class="modal-image" id="imgModalContent4">
  </div>
</div>

<!-- Modal for Product Details -->
<div id="productModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('productModal')">&times;</span>
    <h2>Product Details</h2>
    <table id="productDetails">
      <!-- Tabel akan diisi oleh JavaScript -->
    </table>
  </div>
</div>

<script>
  // Function to open product details modal
  function openProductModal(productId) {
    const modal = document.getElementById('productModal');
    modal.style.display = "flex"; // Use flex to center the modal

    // Fetch product details from JSON
    fetch('../data/detailProduct.json')
      .then(response => {
        if (!response.ok) {
          throw new Error('Network response was not ok');
        }
        return response.json();
      })
      .then(data => {
        const product = data.products.find(p => p.id === productId);
        const table = document.getElementById('productDetails');
        table.innerHTML = `
          <tr><th>Name</th><td>${product.name}</td></tr>
          <tr><th>Price</th><td>${product.price}</td></tr>
          <tr><th>Available Sizes</th><td>${product.sizes.join(', ')}</td></tr>
          <tr><th>Material</th><td>${product.material}</td></tr>
        `;
      })
      .catch(error => {
        console.error('There was a problem with the fetch operation:', error);
        alert('Failed to load product details.');
      });
  }

  // Function to close modals
  function closeModal(modalId) {
    const modal = document.getElementById(modalId);
    modal.style.display = "none";
  }

  // Function to open image modal
  function openImageModal(modalId, src) {
    const modal = document.getElementById(modalId);
    const modalImg = modal.querySelector('.modal-image');
    modal.style.display = "flex";
    modalImg.src = src;
  }
</script>
